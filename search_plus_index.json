{"./":{"url":"./","title":"博客总揽","keywords":"","body":"简介 教程分享均是笔者亲身学习经验总结,涉及到的知识点均亲身试验,但有时为了知识完整性,可能并未亲自确认,希望能及时反馈,避免更多人踩坑. 主要内容 闲置主机搭建双系统搭建ubuntu server 并搭建单机k8s,gitlab 实现简易版devops(CICD)做开发服务器 通过frp暴露到公网 可以 随时随地提交代码并发布服务 用阿里云最便宜的服务器做中转(1cpu1g 突发即可 网络按使用 不到30/月) 而你本地主机却可以随时按需扩展和随意开关机 作者闲置主机扩展到了24G内存 本身还有200多G固态 1T机械 按这配置1年起码至少得3000起 如果做服务器 显卡就鸡肋了 如果专门做服务器 买个垃圾显卡或者DIY的 3000可以拥有很高的配置了 虽然需要你部署研究 长久上 做开发 简单服务还是这个方案便宜目录 闲置主机做开发服务器 var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';} 作者: 小白鼠V 链接: https://vonchange.github.io/ 来源: 小白鼠V技术驿站 本文原创发布于「小白鼠V技术驿站」,转载请注明出处,谢谢合作! © vonchange all right reserved，powered by Gitbook文件修订时间: 2020-05-25 18:50:15 "},"doc/host.html":{"url":"doc/host.html","title":"闲置主机做开发服务器","keywords":"","body":"var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';} 作者: 小白鼠V 链接: https://vonchange.github.io/doc/host.html 来源: 小白鼠V技术驿站 本文原创发布于「小白鼠V技术驿站」,转载请注明出处,谢谢合作! © vonchange all right reserved，powered by Gitbook文件修订时间: 2020-05-22 17:23:27 "},"doc/host/ubuntu.html":{"url":"doc/host/ubuntu.html","title":"搭建ubuntu server及其k8s","keywords":"","body":"搭建ubuntu server及其k8s 搭建ubuntu server 参考: https://www.jianshu.com/p/da49cd69e8ff 我已经安装过了 没留啥文档 基本按照安装ubuntu server参考安装即可 这里只说自己踩过的坑 我安装的版本是 ubuntu server 16.04.6 安装语言必须选择English 也就是第一个安装界面 但在 \"Welcome\" 语言选择界面可以选择中文(只是安装界面的语言) 但第一个我尝试过选择中文 是有问题 当然能力足够最好都选择英文 双系统 磁盘分区选择手动 选择一个你预备好的非系统ntfs盘(在win10里最好格式化过) 删除此分区变为空闲分区 选择该空闲分区自动分区 确定执行 搭建 本地k8s准备工作 必须安装了ssh 安装的ubuntu的时候可选 没选也简单 自己安装即可 sudo ps -e |grep ssh # 查看时候安装过 apt-get update apt-get install openssh-server # 不存在 安装 必须创建root用户 sudo passwd root # 设置root的密码 su root #来测试是否可以进入root用户，如果出现#说明已经设置root用户的密码成功 必须设置ssh root用户可以登录(默认没有开启) # 其配置在 sshd_config文件中，进行编辑： vi /etc/ssh/sshd_config #找到PermitRootLogin 添加一行 PermitRootLogin yes，如下： # Authentication: #LoginGraceTime 2m #PermitRootLogin prohibit-password PermitRootLogin yes #StrictModes yes #MaxAuthTries 6 #MaxSessions 10 #保存退出后，重启ssh服务，输入命令： /etc/init.d/ssh restart ifconfig 查看ip 这里推荐使用secureCRT(secureFX) ssh root登录 准本就绪 可以安装k8s了 搭建 本地k8s（懒人法) 搭建k8s网上有多种 比如kubeadmin 但因为墙的问题 需要爬许多坑 这里推荐使用：kubeasz 里面文档也很丰富清晰，对于初学者来说很有帮助。最主要的是不需要翻墙 我主要拿 主机做开发服务器 只有一个服务器 也就是只有master 所以选择最简单的 单机快速体验k8s集群的测试环境--AllinOne部署 安装上面教程安装即可 很简单 但前提必须ssh root能登录(没开之前 老是安装不上) 还有先不要着急安装 我安装后发现一个问题 [使用2.0.3版本后，在dashboard中看不到CPU、MEM]https://github.com/easzlab/kubeasz/issues/666 在教程AllinOne部署2.下载文件后 服务器上提前在roles/kube-node/templates/kubelet-config.yaml.j2文件中把 readOnlyPort: 0 改成 readOnlyPort: 10255 再执行部署 现在你已经安装好了k8s var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';} 作者: 小白鼠V 链接: https://vonchange.github.io/doc/host/ubuntu.html 来源: 小白鼠V技术驿站 本文原创发布于「小白鼠V技术驿站」,转载请注明出处,谢谢合作! © vonchange all right reserved，powered by Gitbook文件修订时间: 2020-05-25 18:38:51 "}}